{"is_source_file": true, "format": "SQL", "description": "This is a Flyway database migration script that sets up the core schema for an airport passenger service platform. It contains table definitions, constraints, types, functions, and indices pertinent to managing users, passengers, flights, bookings, facilities, chatbots, feedback, grievances, and audit events.", "external_files": ["Extension scripts or external SQL functions (e.g., pgcrypto extension, custom functions like set_updated_at)"], "external_methods": ["gen_random_uuid()", "now()"], "published": ["admins", "roles", "permissions", "admin_roles", "role_permissions", "passengers", "aadhaar_otp_sessions", "chatbot_conversations", "chatbot_messages", "flights", "flight_status_cache", "facilities", "bookings", "parking_bookings", "lounge_bookings", "hotel_bookings", "feedback", "grievances", "notifications", "audit_events"], "classes": [], "methods": [{"name": "set_updated_at()", "description": "A PostgreSQL function that updates the 'updated_at' timestamp on row modifications, used as a trigger function for timestamp management."}], "calls": ["set_updated_at()", "format()", "CREATE TRIGGER", "DROP TRIGGER IF EXISTS", "CREATE TABLE IF NOT EXISTS", "CREATE TYPE", "CREATE EXTENSION", "SELECT 1 FROM pg_type WHERE typname = 'kyc_status'", "SELECT 1 FROM pg_type WHERE typname = 'facility_type'", "GRANT", "REFERENCES", "ON DELETE CASCADE", "ON DELETE SET NULL", "ON DELETE RESTRICT"], "search-terms": ["Flyway migration", "V1__init_schema", "airport passenger service platform", "core schema", "jsonb", "UUID primary keys", "idempotent migration", "set_updated_at()", "create extension pgcrypto", "chatbot", "flight status cache", "facilities catalog", "bookings", "audit events"], "state": 2, "file_id": 8, "knowledge_revision": 18, "git_revision": "", "hash": "67765033d99179eae58057dcde1b95d2", "format-version": 4, "code-base-name": "database", "filename": "database/migrations/V1__init_schema.sql", "revision_history": [{"18": ""}]}